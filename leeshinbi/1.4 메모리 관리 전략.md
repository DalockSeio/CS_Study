# 1.4.1 논리 메모리와 물리 메모리 
- 논리 메모리 영역(= 가상 메모리 영역)          
  : 프로세스가 보는 메모리 영역          
- 물리 메모리 영역       
  : 실제로 사용되는 메모리 영역(RAM)      
- 논리 주소(= 가상주소)       
  : CPU가 프로세스를 실행하며 보는 주소 값
- 물리 주소          
  : 실제 메모리에서 사용되는 주소

  앞서 봤듯이, CPU가 프로세스를 처리할 때 보는 주소 값과 실제 메모리의 주소 값은 다르다.         
  따라서 논리 주소를 물리 주소로 변환해줘야 하는데, 이와 같은 동작을 하는 하드웨어 장치를           
  "메모리 관리 장치"(= MMU) 라고 한다.

## MMU 
CPU에 위치하며, CPU에서 메모리에 접근하기 전에 MMU를 거쳐 논리 주소에 해당하는 물리 주소를 얻는다.        
MMU는 보호해야 하는 메모리 영역에 대한 접근을 제한해 메모리를 보호하는 역할을 한다.     

![다운로드](https://github.com/leeshinbi/CS_Study/assets/109641586/24c2c106-2a16-43f2-98a1-95fadf1b472e)

# 1.4.2 연속 메모리 할당
멀티 프로세스 환경에서 여러 프로세스를 메모리에 연속적으로 로드하는 방법 

대표적으로 두 가지 방식이 있다. 

## 고정 분할 방식
메모리 영역을 분할한 뒤 각 영역에 프로세스를 할당하는 방식이다.     
분할된 영역의 크기는 서로 다를 수 있으며, 분할된 크기는 고정이다.    

단점으로는, 메모리에 올릴 수 있는 프로세스 수와 각 프로세스 크기가 제한된다는 것이다. = '단편화'

## 가변 분할 방식
할당할 프로세스의 크기에 따라 메모리 공간을 분할하는 방식이다.    
메모리 할당 알고리즘을 통해 프로세스가 로드될 수 있는 메모리 공간을 찾는다.    

대표적 메모리 할당 알고리즘으로는 세 가지가 있다. 

### 최초 적합 
프로세스 크기만큼 비어 있는 메모리 공간을 찾아 차례대로 프로세스를 로드하는 방식 

### 최적 적합
가용 메모리 공간 중에서 가장 작은 공간에 프로세스를 할당하는 방식

### 최악 적합 
가용 메모리 공간 중에서 가장 큰 공간에 프로세스를 할당하는 방식

## 메모리 압축
사용 중인 메모리 공간을 재배치 해서 흩어져 잇는 가용 메모리 공간을 하나로 합치는 것으로,    
외부 단편화 문제를 해결하는 방법이다.    

![053](https://github.com/leeshinbi/CS_Study/assets/109641586/2efd9454-6b3a-4e07-8426-35eaa2c9a4ad)

# 1.4.3 비연속 메모리 할당 
프로세스의 메모리 영역을 나눠서 메모리 공간에 저장하는 방법이다. 

대표적으로 두 가지 방식이 있다. 

## 페이징
프로세스의 논리 메모리 영역과 물리 메모리 영역을 각각 일정한 크기의    
페이지 & 프레임으로 나눈다. 

페이지와 프레임을 매핑하는 데는 '페이지 테이블'을 사용한다.   
페이지 테이블은 프로세스의 페이지 정보와 페이지에 매핑하는 프레임의 주소 값을 저장한다. 

![img](https://github.com/leeshinbi/CS_Study/assets/109641586/77122d0c-e70a-492f-b996-665b98a27999)

장점: 페이지를 물리 메모리에 연속으로 할당할 필요가 없기에 외부 단편화 문제를 해결 가능하다.     
단점: 프로세스의 마지막 페이지가 페이지 크기보다 작을 순 있으므로 내부 단편화 문제가 발생 가능하다. 

## 세그먼테이션
프로세스의 메모리 영역을 논리적 단위인 세그먼트로 분할해 메모리를 할당한다.   
여기서 논리적 단위는 파일 내 함수 단위나 프로세스의 스택, 힙과 같은 영역을 의미한다. 

세그먼트의 논리 주소를 물리 주소로 매핑하기 위해 '세그먼테이션 테이블'을 사용한다. 

아래에서 base는 세그먼트의 시작 주소이며, limit은 세그먼트의 길이이다. 

![055](https://github.com/leeshinbi/CS_Study/assets/109641586/438f7d22-853d-496d-ba60-9c2eef78572f)

장점 : 데이터를 보호하기 쉽다    
단점 : 세그먼트의 크기의 균등화가 이뤄지지 않아서 외부 단편화 문제 발생





