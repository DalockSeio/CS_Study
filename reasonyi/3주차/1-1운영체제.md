# 1.1 운영체제

# 1.1.1 운영체제란

## 운영체제란?

운영체제(OS, Operation System)는 하드웨어 위에 설치되어 하드웨어 계층과 다른 소프트웨어 계층을 연결하는 소프트웨어 계층이다.

## 운영체제의 역할

- 컴퓨터 시스템의 자원 관리
- 사용자에게 컴퓨터 사용 환경 제공
- 사용자와 컴퓨터 간 인터페이스 제공 (사용자가 컴퓨터를 편리하게 사용 가능)

## 대표적인 운영체제

- 윈도우
- 맥OS
- 리눅스
- 유닉스

# 1.1.2 운영체제의 목적

## OS의 4가지 목적

- 처리 능력(throughput) 향상
    
    OS는 자원 관리를 통해 일정 시간 내에 시스템이 처리하는 일의 양을 향상시킨다.
    
- 반환 시간(turnaround time) 단축
    
    OS는 사용자가 시스템에 요청한 작업을 완료할 때까지 소요되는 시간을 단축시킨다.
    
- 사용 가능도(availability) 향상
    
    사용 가능도는 시스템 자원을 얼마나 빨리 제공할 수 있는가를 의미한다. OS는 사용자가 컴퓨터를 사용해야 할 때 자원을 즉시 사용할 수 있게 한다. (프로그램 실행 시 바로바로 사용할 수 있는거??)
    
- 신뢰도(reliability) 향상
    
    신뢰도는 시스템이 주어진 문제를 정확하게 푸는지를 의미한다. OS는 입력 값에 대한 정확한 결과 값을 줄 수 있도록 신뢰도를 향상해야 한다. (엉뚱한게 실행되지 않도록?)
    

이 4가지 목적은 OS 성능을 평가하는 기준으로 사용되기도 한다.

# 1.1.3 CPU와 메모리 구조

## CPU

- CPU(Center Processing Unit, 중앙 처리 장치)는 프로그램을 실행하는데 필요한 연산을 처리하고 수행한다.
- 다른 말로 프로세서(Processor)라고도 한다.

## 메모리(Memory)

- 메모리는 데이터를 저장하기 위한 기억장치이다.
- 휘발성 메모리인 주 기억장치와 비휘발성 메모리인 보조기억장치가 있다.
- 주 기억장치는 메인 메모리를 의미하며, RAM(Random Access Memory)이 대표적이다.
- 보조 기억장치는 SSD(Solid State Drive), HDD(Hard Disk Drive) 등이 있다.

메모리는 CPU에서 빨리 접근할 수 있도록 다음과 같은 계층 구조로 나뉜다.

1. 레지스터 
    - 극소량의 데이터 혹은 처리중인 중간 결과를 임시 저장하는 기억장치이다.
    - CPU안에 존재한다.
2. 캐시
    - CPU와 RAM 사이의 속도 차이를 해결하기 위한 기억장치이다.
    - 고속 버퍼 메모리로, 용량이 적지만 속도가 레지스터 다음으로 빠르다.
    - CPU안에 존재한다.
3. RAM
    - 프로그램을 실행할 때 필요한 정보를 저장한다.
    - 휘발성 메모리(전원 공급이 중단되면 데이터가 없어지는 메모리) 이다.
    - 보통 메모리라 하면 RAM을 의미한다.
4. Hard Disk
    - 여러 가지 데이터와 프로그램 등을 저장한다.
    - 용량이 크지만 속도가 느리다.
    - 비휘발성 메모리이다.
    

### 프로그램 실행 과정

1. 프로그램 실행
2. OS가 보조 기억 장치에 있는 프로그램을 메모리로 로드(프로그램을 메모리에 올려 공간을 할당)한다.
3. CPU가 처리한다.

메모리에 로드한 프로그램을 프로세스(Process)라고 한다.

CPU는 하나의 프로세스만 처리할 수 있기 때문에, 멀티 프로세스 환경에서는 OS가 스케줄링을 통해 CPU에 프로세스를 할당한다.

# 1.1.4 커널과 시스템 콜

## 커널

- 커널은 운영체제의 핵심 요소(핵)이다.
- 프로세스 보안, 자원 관리, 하드웨어 추상화 등의 역할을 담당한다.
- 특히 자원 관리를 위해 CPU 스케줄링, 메모리 관리, 입출력 관리, 파일 시스템 관리 등을 담당한다.

운영체제는 커널 모드(kernel mode)와 사용자 모드(user mode)로 모드를 나눈다.

커널 모드: 하드웨어에 직접 접근하여 메모리, CPU 등의 자원을 사용할 수 있다.

사용자 모드: 자원에 접근할 수 없게 제한을 둔다.

시스템 콜: 사용자 모드에서 커널 모드에 접근할 수 있도록 하는 시스템 함수이다.

사용자 모드에서 자원에 접근하려면 시스템 콜을 통해 커널에 요청해야 한다.

커널은 시스템 콜을 통해 요청을 받아 처리하고 다시 시스템 콜을 통해 결과 값을 반환한다.

![image](https://github.com/reasonyi/CS_Study/assets/66377159/ecdd1d47-4912-4655-b826-0f1a81eea57b)

시스템 콜의 예시로는 fork()-프로세스 생성 와 wait()-부모 프로세스가 자식 프로세스의 수행을 기다림 등이 있다.
