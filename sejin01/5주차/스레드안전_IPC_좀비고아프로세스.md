## 스레드 안전이란?      
: 멀티 스레드 환경에서 하나의 변수, 함수, 객체에 스레드 여러 개가 동시에 접근해도 문제가 없는 것      


## 스레드 안전을 위한 조건      
- 상호배제(mutual exclusive)      
공유 자원에 접근해야 할 때 뮤텍스 또는 세마포어 같은 상호배제 기법을 사용해 접근을 통제해야 함      

- 원자 연산(atomic operation)      
공유 자원에 접근할 때 원자 연산을 이용하거나 원자적으로 정의된 연산을 이용해 연산 도중에 다른 스레드가 접근할 수 없게 함.      
'연산 했다' or '연산 안 했다' 2가지만 존재하는 연산      

- 재진입성(reentrancy)      
특정 함수를 하나의 스레드에서 실행 중일 때 다른 스레드가 해당 함수를 실행해도 각 스레드에 올바른 결과가 나올 수 있게 해야 함      

- 스레드 지역 저장소(thread local storage)      
각 스레드에서만 접근할 수 있는 저장소를 사용해서 공유되는 자원을 줄여야 함      



## IPC(Inter Process Communication)란?      
: 프로세스 간에 자원을 공유하는 방식      


## IPC의 종류      
1. 공유 메모리      
프로세스 간에 공유 가능한 메모리를 구성해 자원을 공유하는 방식      
-> 여러 프로세스에서 접근할 수 있으므로 동기화 문제 발생 가능      

2. 소켓      
네트워크 소켓을 이용하는 프로세스 간 통신      
외부 시스템과 이용 가능      
클라이언트와 서버 구조로 자원을 주고 받음      

3. 세마포어      
접근하는 프로세스를 제어하여 공유 자원을 관리      

4. 파이프      
FIFO 형태의 메모리인 파이프를 이용하여 프로세스 간 자원을 공유하는 방식      
단방향 통신만 지원 (읽기 OR 쓰기 하나만)      
양방향 통신을 하기 위해서는 읽기 파이프와 쓰기 파이프를 각각 생성해야 함      

5. 메시지 큐      
FIFO 형태의 큐 자료구조를 사용해 프로세스 간 메시지를 주고받는 방식      



## 좀비 프로세스(zombie process)란?      
: 자식 프로세스가 종료되었지만 부모 프로세스가 자식 프로세스의 종료 상태를 회수하지 않았을 경우에 남겨진 자식 프로세스      

## 좀비 프로세스 발생 과정      
1. 자식 프로세스 종료 중 부모 프로세스에 SIGCHLD 시그널을 보냄      
2. 부모 프로세스에서 WAIT()함수(시스템 콜)를 호출하여 자식 프로세스의 상태 정보를 받고 자원을 회수      
3. 이때, 자원 회수에 실패하게 되면 좀비 프로세스 생성됨       
지속적인 좀비 프로세스 증가 = 자원 낭비      


## 고아 프로세스(orphan process)란?      
: 부모 프로세스가 자식 프로세스보다 먼저 종료되는 경우의 자식 프로세스      

## 고아 프로세스의 좀비 프로세스 방지      
1. 자식 프로세스의 부모 PID를 init프로세스의 PID인 1로 변경      
2. 고아 프로세스의 부모 프로세스가 init프로세스가 됨      
3. 고아 프로세스가 작업을 종료하면 init프로세스가 고아 프로세스의 자원을 회수하여 좀비 프로세스가 되는 것을 방지      