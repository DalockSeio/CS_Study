# 1.4.2     
## 논리 메모리 영역, 가상 메모리 영역     
: 프로세스가 보는 메모리 영역     

## 물리 메모리 영역     
: 실제로 사용되는 메모리 영역(RAM)     


## 메모리 관리 장치 (Meomory Management Unit)     
: CPU가 프로세스를 실행할 때 사용하는 주소 값과 실제 주소 값이 다르므로 논리 주소를 물리 주소로 변환하는 하드웨어 장치     

## 메모리 관리 장치의 역할?     
- CPU에 위치하며 보호해야 하는 메모리 영역에 대한 접근을 제한해 메모리를 보호함     

# 1.4.2     
## 연속 메모리 할당(contiguous allocation)     
: 멀테 프로세스 환경에서 여러 프로세스를 메모리에 연속적으로 로드하는 방법     

<연속 메모리 할당의 2가지 방식>     
1. 고정 분할 방식     
메모리 영역을 분할한 뒤 각 영역에 프로세스를 할당     
단점 -> 메모리에 올릴 수 있는 프로세스 수와 각 프로세스 크기가 제한됨, 단편화(fragmentation) 문제 발생할 수 있음     

내부 단편화 - 주기억장치 내 사용자 영역이 실행 프로그램보다 커서 프로그램의 사용 공간을 할당 후 사용되지 않고 남게 되는 현상     

외부 단편화 - 남아있는 총 메모리 공간이 요청한 메모리 공간보다 크지만, 남아있는 공간이 연속적(contiguous)이지 않아 발생하는 현상     

2. 가변 분할 방식     
할당할 프로세스의 크기에 따라 메모리 공간을 분할     
메모리 할당 알고리즘을 이용해 가용 메모리 공간에서 프로세스가 로드될 수 있는 메모리 공간을 찾음      

## 메모리 할당 알고리즘     
- 최초 적합(first-fit)     
가용 메모리 공간에서 프로세스 크기만큼 비어 있는 메모리 공간을 찾아 차례대로 프로세스를 로드하는 방식     

- 최적 적합(best-fit)     
할당하려는 프로세스 크기 이상인 가용 메모리 공간 중에서 가장 작은 공간에 프로세스를 할당하는 방식     
-> 가용 메모리 공간을 모두 탐색해야 함     

- 최악 적합(worst-fit)     
할당하려는 프로세스 크기보다 큰 가용 메모리 공간 중에서 가장 큰 공간에 프로세스를 할당하는 방식     
-> 가용 메모리 공간을 모두 탐색해야 함     

## 외부 단편화 문제 해결 방법     
메모리 압축(memory compaction) = 메모리 집약     
: 프로세스가 사용 중인 메모리 공간을 재배치해서 흩어져 있는 가용 메모리 공간을 하나로 합치는 것     



## 비연속 메모리 할당     
: 프로세스의 메모리 영역을 나눠서 메모리 공간에 저장하는 방법     

## 비연속 메모리 할당의 2가지 방식     
1. 페이징     
: 프로세스의 논리 메모리 영역과 물리 메모리 영역을 각각 일정한 크기의 페이지와 프레임으로 나눈 후 (페이지 크기 = 프레임 크기) 각각 번호를 할당해 프로세스의 페이지와 메모리의 프레임을 매핑함(페이지 테이블 사용)     
페이지 테이블 : 프로세스의 페이지 정보와 페이지에 매핑하는 프레임의 주소 값을 각 프로세스의 PCB에 저장     

장점) 페이지를 물리 메모리에 연속으로 할당할 필요가 없으므로 외부 단편화 문제를 해결할 수 있음     
단점) 프로세스 크기가 페이지 수로 나누어 떨어지는지 보장하지 않기 때문에 프로세스의 마지막 페이지가 페이지 크기보다 작을 수 있으므로 내부 단편화 문제가 발생할 수 있음, 페이지 테이블을 저장하기 위한 메모리 공간이 추가로 필요함     

<페이징 기법의 종류>     
- 계층적 페이징 (hierarchical paging) = 멀티 레벨 페이징     
: 페이지 테이블을 다시 페이지로 나눠 페이지 테이블 자체를 페이징하는 방식     

- 해시 페이지 테이블     
: 해시 테이블의 각 항목에 저장된 연결 리스트에 페이지 번호를 해싱한 뒤에 첫 번째 요소와 가상 페이지 번호를 비교하는 방식     

- 역 페이지 테이블 (inverted page table)     
: 프레임을 이용해 페이지를 찾는 방식     


2. 세그멘테이션      
: 프로세스의 메모리 영역을 논리적 단위(파일 내 함수 단위 or 프로세스의 스택, 힙 같은 영역)인 세그먼트로 분할해 메모리를 할당     
세그먼트 테이블을 사용해 세그먼트의 논리 주소를 물리 주소로 매핑     
세그먼트 테이블은 세그먼트 번호를 인덱스로 사용, 세그먼트별 시작 주소인 base와 세그먼트 길이인 limit를 저장함     
장점) 단위별 데이터를 보호하기 쉬움     
단점) 세그먼트의 크기가 균등하지 않아서 프로세스의 할당/해제를 반복하는 과정에서 외부 단편화가 발생할 수 있음, 메모리에 로드된 스택 세그먼트 영역에서 오버플로가 발생하면 다른 프로세스와 메모리 영역이 겹칠 수 있음     
-> 다른 프로세스의 세그먼트나 스택 오버플로가 발생한 세그먼트를 디스크로 스왑 아웃해야 함     
