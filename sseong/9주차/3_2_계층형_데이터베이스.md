# 3장 - 데이터베이스

## 3.2 관계형 데이터베이스

### 3.2.1 키 ⭐

키란? 데이터베이스에서 튜플을 구분하기 위한 속성 또는 속성 집합

* 키의 특성
  * 유일성 - 하나의 키 값으로 튜플을 식별할 수 있는 특성
  * 최소성 - 튜플을 식별하는 데 필요한 속성만으로 이루어져 있는 특성

* DBMS의 키 종류
  * 슈퍼 키 - 유일성 O, 최소성 X
  * 후보 키: 유일성 O, 최소성 O
  * 기본 키: 후보 키 중 main, NULL값을 가지면 안 됨
  * 대체 키: 후보 키 - 기본 키
  * 외래 키: 다른 테이블의 기본 키를 참조하는 키

### 3.2.2 무결성

무결성이란? 정확성(DB에 저장된 데이터와 실제 데이터가 일치) + 일관성(데이터가 일정하게 유지)

* 무결성의 종류
  * 개체 무결성 - 모든 테이블이 기본 키를 가져야 하며, 기본 키의 값은 NULL이 아니며 중복되지 아니하고 고유한 값을 가져야 함
  * 도메인 무결성 - 테이블의 속성 값은 도메인(속성이 가질 수 있는 값의 집합)에 속해야 함
  * 참조 무결성 - 외래 키의 값은 참조하는 테이블의 기본 키 값과 동일하거나 NULL이어야 함

### 3.2.3 인덱스 ⭐

인덱스란? DB에서 튜플의 검색 성능을 높이기 위해 속성 값과 튜플이 저장된 주소를 저장하는 것

키-값 형태로 [속성 값, 튜플 주소]를 인덱스 테이블에 저장 인덱스 테이블은 속성 값을 기준으로 정렬 상태를 유지

* 인덱스의 장단점
  * 장점: 검색 속도 빠름
  * 단점
    * 인덱스 테이블을 저장하기 위한 공간 추가적으로 필요
    * 정렬된 상태를 유지하기 위해 데이터를 추가, 수정, 삭제하는 경우에는 속도가 느림(삽입할 때, 인덱스테이블 정렬 처리 때문에 처리비용 증가, 삭제한다고 해서 테이블에서 제거가 아니라 사용안함 처리 -> 테이블 크기가 줄지 않아 비효율적)

-> 데이터 변경보다 검색을 자주하는 경우에 효율적

#### 해시 테이블 인덱스

* 해시 테이블 속성 값으로 해시 값을 계산해 인덱싱
  * 검색하는 값마다 해시값이 달라지므로 온전하게 입력해야 함
  * 검색 속도는 빠름

#### B+-트리 인덱스

B+트리: 단말 노트에 데이터를 저장하고 단말 노드간에는 연결리스트로 연결하는 트리 구조 ( 연결리스트로 트리 구성이 되어있는데 마지막에는 모든 값 연결되어있는st)

B-트리: 모든 노드에 데이터가 저장 (부모가 n개이면 자식은 n이며 n+1이하)

공통특징 - Balanced이기 때문에 스스로 트리의 밸런스를 맞춤 -> 한 쪽으로 치우치지 않은 Balanced한 트리구조

-> 데이터 삽입, 갱싱, 삭제 등에 드는 작업 비용 줄일 수 있음

-> 속성을 범위로 검색 가능해 '하'를 입력하고 '하이'를 찾을 수 있다.

### 3.2.4 ORM (중요) ⭐

ORM이란? 객체와 관계형 DB를 매핑하는 도구

객체 <-> ORM <-> 관계형 DB

DB를 프로그래밍 언어의 객체 관점으로 바라 볼 수 있음 -> 객체 지향 프로그래밍 언어에 유용

SQL문 사용하지 않고 객체 지향적 코드 작성 가능(SQL문을 자동으로 생성해주기 때문)(SQL쿼리가 담긴 메서드로 조작하는 느낌s) ->  코드의 가독성 높이고, 개발자 편의성(생산성) 증대

+DBMS에 대한 종속성 저하

so. 느슨한 연결의 ORM  프레임워크 사용 프로젝트에 사용

but. 복잡한 프로젝트 수행 시, ORM만으로 서비스 구현이 어려울 수 있음
