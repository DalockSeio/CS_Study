# 1장 - 운영체제

## 1.2 프로세스

### 1.2.3 프로세스의 생성 ⭐

fork()

* 프로세스를 생성하는 함수
* 함수를 호출한 프로세스를 복사
* 기본 프로세스: 부모 프로세스(PID값을 반환) / 복사된 프로세스: 자식 프로세스(0을 반환)

#### 프로세스를 종료

프로세스가 종료되는 경우

* 프로세스가 운영체제의 종료 서비스(exit())를 호출해 정상 종료
* 프로세스의 실행 시간 또는 특정 이벤트 발생을 기다리는 시간이 제한된 시간을 초과
* 프로세스가 파일 검색 또는 입출력에 실패
* 오류 발생 혹은 메모리 부족

자식 프로세스를 종료시킬 경우

* 자식 프로세스가 할당된 자원을 초과
* 자식 프로세스에 할단된 작업이 없는 경우

### 1.2.4 프로세스 상태도 ⭐

프로세스 상태 5가지

* 생성(new)         프로세스가 PCB를 가지고 있지만 OS로 부터 승인(admit) 받기 전
* 준비(ready)       OS로부터 승인받은 후 준비 큐에서 CPU 할당을 기다림
* 실행(running)     프로세스가 CPU를 할당받아 실행
* 대기(waiting)     프로세스가 CPU 사용을 멈추고 입출력이나 이벤트 발생을 기다림
* 종료(terminated)  프로세스 종료

프로세스의 상태 변화

* 생성 -> 준비    생성 상태의 프로세스가 OS로부터 승인을 받아, 준비 상태의 프로세스가 모여 있는 자료구조인 준비 큐(ready queue)에 추가됨
* 준비 -> 실행    준비 큐에 있는 프로세스 중 우선순위가 높은 프로세스가 디스때치 (dispatch) 되어 실행됨
* 실행 -> 준비    CPU 독점을 방지하기 위해 타임아웃(timeout) 되어 준비 상태로 변경됨
* 실행 -> 대기    입출력 또는 이벤트를 기다림
* 대기 -> 준비    입출력 또는 이벤트가 완료됨
* 실행 -> 종료    실행 중인 프로세스가 정상적으로 끝남

![Alt text](process_state_invert.png)

➕ PCB란? process control block / 프로세스를 관리하는 데이터 구조
➕ 승인(admit)란? CPU를 제외한 다른 자원이 준비되어 해당 프로세스가 준비 상태가 될 수 있도록 OS가 허락하는 것
➕ 디스패치(dispatch)란? 프로세스에 CPU 자원을 할당해 해당 프로세스가 준비 상태에서 실행 상태가 되는 것
